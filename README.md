# BerkeleyAIMLPracticalApplication11
Repository for practical application data problem for module 11 in the Berkeley Certificate in AI and ML<br>

### Description of Files in the Repo:<br>
-'data.csv': this file contains the dataset used for this project<br>
-'[prompt_II.ipynb](https://github.com/Dougw888/BerkeleyAIMLPracticalApplication11/blob/main/prompt_II.ipynb)': this file contains the code for this project

### Description of the project:<br>
This project asked a answer to the question: what drives the price of a car?<br>
"In this application, you will explore a dataset from Kaggle. The original dataset contained information on 3 million used cars. The provided dataset contains information on 426K cars to ensure speed of processing.  Your goal is to understand what factors make a car more or less expensive.  As a result of your analysis, you should provide clear recommendations to your client -- a used car dealership -- as to what consumers value in a used car."<br>

### Overview of steps taken<br>
Following the CRISP-DM framework, the following actions were taken to answer the question:<br>
-Business objectives: Framing the question: What are the key drivers for used car prices? What are the factors that make a car more or less expensive and can therefore be seen as more or less valuable for the consumer? <br>
-Data Understanding: 426K rows of data, containing 18 fields which were predominately categorical with one numeric variables (odometer). Categorical variables included manufacturer, model, condition, fuel type, etc.<br>
-Data Preparation: To prepare the data, unnecessary columns were dropped (e.g., VIN, region, model, size), especially if the majority of data in those features were N/A. Once columns were dropped, all N/A were dropped, reducing data set to 143K sold cars. After that, several categorical variables (e.g., year, condition) were converted to numerical values. Some categorical variables were consolidated (e.g., individual manufacturers were grouped by domestic, foreign, domestic luxury, foreign luxury, and super, types of cars were consolidated to trucks, SUVs, compacts, vans, and other). Finally, correlations were checked to try and avoid multicollinerarity before outliers were removed from price, age, and odometer. In the end, 104K data points were left to perform regression analysis.<br>
-Modeling: Across all models, mean squared error was chosen as the success metric for the model. Models were done using a preprocessor which OneHot Encoded all categorical variables and Standardized numeric ones. First, linear regression was performed for polynomial features from 1 to 4 to determine the best order to use, which was determined to be 2nd order based on training and testing MSE. After that, 1st and 2nd order prediction were compared against actuals to visually understand if the model was approximating the right price. Techniques were then used to try and improve upon the 2nd order OLS model, including SequentialFeatureSelection, Ridge regression using GridSearchCV, and Lasso.<br>
-Evaluation: In the end, 2nd order OLS was determined to be the best model because of lowest validation MSE and easiest interpretability of the model. However, it was determined that the interpretibility was impacted by the confounding factors with the different types of cars. What's important for one cateogry of car may not be for another. Therefore, it was determined that there was a better way to understand the factors that impact price of cars.
-Modeling, revisted: 2nd order OLS was used again, but this time on a split dataset separating out 'budget' manufacturing brands and 'luxury' manufacturing brands as they may have different considerations and features that make them more valuable than others. The 2nd order OLS was similar MSE for budget brands, but slightly higher MSE for the luxury brand model. <br>
-Deployment: Average price, age, and odometer was presented for both budget and luxury brands, as well as the most impactful factors in determining the value of a vehicle to hold on the lot. These factors should be taken into account when deciding whether to put a budget or luxury car on the lot, and if those features on the car are positive or negative to the overall sale value.<br>
